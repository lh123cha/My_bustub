<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: src/include/concurrency/transaction.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_b0856f6b0d80ccb263b2f415c91f9e17.html">include</a></li><li class="navelem"><a class="el" href="dir_fe2aa8ace742259405f3fccf93b887e4.html">concurrency</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">transaction.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="transaction_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                         BusTub</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// transaction.h</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">// Identification: src/include/concurrency/transaction.h</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// Copyright (c) 2015-2019, Carnegie Mellon University Database Group</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#pragma once</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160; </div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;atomic&gt;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;deque&gt;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;thread&gt;</span>  <span class="comment">// NOLINT</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;unordered_set&gt;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="config_8h.html">common/config.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="logger_8h.html">common/logger.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="page_8h.html">storage/page/page.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tuple_8h.html">storage/table/tuple.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; </div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacebustub.html">bustub</a> {</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160; </div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="namespacebustub.html#ae58cece0a05d5cfc7ec83fc4a9161e20">   44</a></span>&#160;<span class="keyword">enum class</span> <a class="code" href="namespacebustub.html#ae58cece0a05d5cfc7ec83fc4a9161e20">TransactionState</a> { <a class="code" href="namespacebustub.html#ae58cece0a05d5cfc7ec83fc4a9161e20a53a5c6962088d681882494048d2f0817">GROWING</a>, <a class="code" href="namespacebustub.html#ae58cece0a05d5cfc7ec83fc4a9161e20aff1f34de72566813b10e966b03977ac0">SHRINKING</a>, <a class="code" href="namespacebustub.html#ae58cece0a05d5cfc7ec83fc4a9161e20a1c372d13f50af5ca9a935ebc78006e82">COMMITTED</a>, <a class="code" href="namespacebustub.html#ae58cece0a05d5cfc7ec83fc4a9161e20a4e6c860e5da10e31c5fd9cb76ddc2025">ABORTED</a> };</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="namespacebustub.html#a57ce43470b186e0066e7f128390005b5">   49</a></span>&#160;<span class="keyword">enum class</span> <a class="code" href="namespacebustub.html#a57ce43470b186e0066e7f128390005b5">IsolationLevel</a> { <a class="code" href="namespacebustub.html#a57ce43470b186e0066e7f128390005b5a7b5722b7d02a9d8ff3a8bdfcb7d278c3">READ_UNCOMMITTED</a>, <a class="code" href="namespacebustub.html#a57ce43470b186e0066e7f128390005b5aa4b37efaa1a6b533614ed81660dbf912">REPEATABLE_READ</a>, <a class="code" href="namespacebustub.html#a57ce43470b186e0066e7f128390005b5a1671fb17b5ce9bd0af0cf47f3f4ea337">READ_COMMITTED</a> };</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="namespacebustub.html#a10572b38743f7663ec041295d3810cac">   54</a></span>&#160;<span class="keyword">enum class</span> <a class="code" href="namespacebustub.html#a10572b38743f7663ec041295d3810cac">WType</a> { <a class="code" href="namespacebustub.html#a10572b38743f7663ec041295d3810caca61ee777e7f71dc466c3b2c685d8d313b">INSERT</a> = 0, <a class="code" href="namespacebustub.html#a10572b38743f7663ec041295d3810caca32f68a60cef40faedbc6af20298c1a1e">DELETE</a>, <a class="code" href="namespacebustub.html#a10572b38743f7663ec041295d3810caca15a8022d0ed9cd9c2a2e756822703eb4">UPDATE</a> };</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="keyword">class </span>TableHeap;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="keyword">class </span>Catalog;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="keyword">using</span> <a class="code" href="namespacebustub.html#a3571cdcf7aa43bd929669794e75cbc48">table_oid_t</a> = uint32_t;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="keyword">using</span> <a class="code" href="namespacebustub.html#a5ca00ce350a2fa387503e74218ae76c0">index_oid_t</a> = uint32_t;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="classbustub_1_1TableWriteRecord.html">   64</a></span>&#160;<span class="keyword">class </span><a class="code" href="classbustub_1_1TableWriteRecord.html">TableWriteRecord</a> {</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="classbustub_1_1TableWriteRecord.html#ad2c5585e7b92be33c3c5cc146ab69a75">   66</a></span>&#160;  <a class="code" href="classbustub_1_1TableWriteRecord.html#ad2c5585e7b92be33c3c5cc146ab69a75">TableWriteRecord</a>(<a class="code" href="classbustub_1_1RID.html">RID</a> rid, <a class="code" href="namespacebustub.html#a10572b38743f7663ec041295d3810cac">WType</a> wtype, <span class="keyword">const</span> <a class="code" href="classbustub_1_1Tuple.html">Tuple</a> &amp;tuple, <a class="code" href="classbustub_1_1TableHeap.html">TableHeap</a> *table)</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;      : <a class="code" href="classbustub_1_1TableWriteRecord.html#abb4a593aeb39a82bd08929e3cbae1858">rid_</a>(rid), <a class="code" href="classbustub_1_1TableWriteRecord.html#a275477dc5e513f6c21b9be12f8ea34d3">wtype_</a>(wtype), <a class="code" href="classbustub_1_1TableWriteRecord.html#aaa6a12f5f093ae20bdad829e987499a8">tuple_</a>(tuple), <a class="code" href="classbustub_1_1TableWriteRecord.html#ab6791eadc71229acb4885e89978d51e8">table_</a>(table) {}</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="classbustub_1_1TableWriteRecord.html#abb4a593aeb39a82bd08929e3cbae1858">   69</a></span>&#160;  <a class="code" href="classbustub_1_1RID.html">RID</a> <a class="code" href="classbustub_1_1TableWriteRecord.html#abb4a593aeb39a82bd08929e3cbae1858">rid_</a>;</div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="classbustub_1_1TableWriteRecord.html#a275477dc5e513f6c21b9be12f8ea34d3">   70</a></span>&#160;  <a class="code" href="namespacebustub.html#a10572b38743f7663ec041295d3810cac">WType</a> <a class="code" href="classbustub_1_1TableWriteRecord.html#a275477dc5e513f6c21b9be12f8ea34d3">wtype_</a>;</div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="classbustub_1_1TableWriteRecord.html#aaa6a12f5f093ae20bdad829e987499a8">   72</a></span>&#160;  <a class="code" href="classbustub_1_1Tuple.html">Tuple</a> <a class="code" href="classbustub_1_1TableWriteRecord.html#aaa6a12f5f093ae20bdad829e987499a8">tuple_</a>;</div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="classbustub_1_1TableWriteRecord.html#ab6791eadc71229acb4885e89978d51e8">   74</a></span>&#160;  <a class="code" href="classbustub_1_1TableHeap.html">TableHeap</a> *<a class="code" href="classbustub_1_1TableWriteRecord.html#ab6791eadc71229acb4885e89978d51e8">table_</a>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;};</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="classbustub_1_1IndexWriteRecord.html">   80</a></span>&#160;<span class="keyword">class </span><a class="code" href="classbustub_1_1IndexWriteRecord.html">IndexWriteRecord</a> {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="classbustub_1_1IndexWriteRecord.html#a9f3924d4654e0fb9ed0831bda33b0c05">   82</a></span>&#160;  <a class="code" href="classbustub_1_1IndexWriteRecord.html#a9f3924d4654e0fb9ed0831bda33b0c05">IndexWriteRecord</a>(<a class="code" href="classbustub_1_1RID.html">RID</a> rid, <a class="code" href="namespacebustub.html#a3571cdcf7aa43bd929669794e75cbc48">table_oid_t</a> table_oid, <a class="code" href="namespacebustub.html#a10572b38743f7663ec041295d3810cac">WType</a> wtype, <span class="keyword">const</span> <a class="code" href="classbustub_1_1Tuple.html">Tuple</a> &amp;tuple, <a class="code" href="namespacebustub.html#a5ca00ce350a2fa387503e74218ae76c0">index_oid_t</a> index_oid,</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                   <a class="code" href="classbustub_1_1Catalog.html">Catalog</a> *catalog)</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      : <a class="code" href="classbustub_1_1IndexWriteRecord.html#aaaef3fbbb54004a69c1c4fd4cb2f470b">rid_</a>(rid), <a class="code" href="classbustub_1_1IndexWriteRecord.html#ae9787d08408966959fb6513f8070b6d2">table_oid_</a>(table_oid), <a class="code" href="classbustub_1_1IndexWriteRecord.html#aae025bdf361ecddab79f369564194fbf">wtype_</a>(wtype), <a class="code" href="classbustub_1_1IndexWriteRecord.html#a9eb2503a42aff09a40d5c63e41ecb98a">tuple_</a>(tuple), <a class="code" href="classbustub_1_1IndexWriteRecord.html#a92c5f98805d0da96b12d7bad2586ff2d">index_oid_</a>(index_oid), <a class="code" href="classbustub_1_1IndexWriteRecord.html#ae1f41b2ab547d9b1cd7146d934c4e73b">catalog_</a>(catalog) {}</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="classbustub_1_1IndexWriteRecord.html#aaaef3fbbb54004a69c1c4fd4cb2f470b">   87</a></span>&#160;  <a class="code" href="classbustub_1_1RID.html">RID</a> <a class="code" href="classbustub_1_1IndexWriteRecord.html#aaaef3fbbb54004a69c1c4fd4cb2f470b">rid_</a>;</div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="classbustub_1_1IndexWriteRecord.html#ae9787d08408966959fb6513f8070b6d2">   89</a></span>&#160;  <a class="code" href="namespacebustub.html#a3571cdcf7aa43bd929669794e75cbc48">table_oid_t</a> <a class="code" href="classbustub_1_1IndexWriteRecord.html#ae9787d08408966959fb6513f8070b6d2">table_oid_</a>;</div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="classbustub_1_1IndexWriteRecord.html#aae025bdf361ecddab79f369564194fbf">   91</a></span>&#160;  <a class="code" href="namespacebustub.html#a10572b38743f7663ec041295d3810cac">WType</a> <a class="code" href="classbustub_1_1IndexWriteRecord.html#aae025bdf361ecddab79f369564194fbf">wtype_</a>;</div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="classbustub_1_1IndexWriteRecord.html#a9eb2503a42aff09a40d5c63e41ecb98a">   93</a></span>&#160;  <a class="code" href="classbustub_1_1Tuple.html">Tuple</a> <a class="code" href="classbustub_1_1IndexWriteRecord.html#a9eb2503a42aff09a40d5c63e41ecb98a">tuple_</a>;</div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="classbustub_1_1IndexWriteRecord.html#af2b02ad8fb3267377aea25eb4589cc23">   95</a></span>&#160;  <a class="code" href="classbustub_1_1Tuple.html">Tuple</a> <a class="code" href="classbustub_1_1IndexWriteRecord.html#af2b02ad8fb3267377aea25eb4589cc23">old_tuple_</a>;</div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="classbustub_1_1IndexWriteRecord.html#a92c5f98805d0da96b12d7bad2586ff2d">   97</a></span>&#160;  <a class="code" href="namespacebustub.html#a5ca00ce350a2fa387503e74218ae76c0">index_oid_t</a> <a class="code" href="classbustub_1_1IndexWriteRecord.html#a92c5f98805d0da96b12d7bad2586ff2d">index_oid_</a>;</div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="classbustub_1_1IndexWriteRecord.html#ae1f41b2ab547d9b1cd7146d934c4e73b">   99</a></span>&#160;  <a class="code" href="classbustub_1_1Catalog.html">Catalog</a> *<a class="code" href="classbustub_1_1IndexWriteRecord.html#ae1f41b2ab547d9b1cd7146d934c4e73b">catalog_</a>;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;};</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="namespacebustub.html#af44028a0a3ce771db1a77e858f3e07ca">  105</a></span>&#160;<span class="keyword">enum class</span> <a class="code" href="namespacebustub.html#af44028a0a3ce771db1a77e858f3e07ca">AbortReason</a> {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <a class="code" href="namespacebustub.html#af44028a0a3ce771db1a77e858f3e07caa97eb89545356d08442dbf5fdd92b3d5a">LOCK_ON_SHRINKING</a>,</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <a class="code" href="namespacebustub.html#af44028a0a3ce771db1a77e858f3e07caa83c1f3829c0646534509d50730097b68">UNLOCK_ON_SHRINKING</a>,</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <a class="code" href="namespacebustub.html#af44028a0a3ce771db1a77e858f3e07caa49847c93d1589c51e27451e384da1025">UPGRADE_CONFLICT</a>,</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <a class="code" href="namespacebustub.html#af44028a0a3ce771db1a77e858f3e07caa8f35b656de87c54e18710fc94d73a614">DEADLOCK</a>,</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <a class="code" href="namespacebustub.html#af44028a0a3ce771db1a77e858f3e07caaccf87b15ab00dd3ea4718d693f18feb5">LOCKSHARED_ON_READ_UNCOMMITTED</a></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;};</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="classbustub_1_1TransactionAbortException.html">  116</a></span>&#160;<span class="keyword">class </span><a class="code" href="classbustub_1_1TransactionAbortException.html">TransactionAbortException</a> : <span class="keyword">public</span> std::exception {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <a class="code" href="namespacebustub.html#a029cba72d716950c85acc42eb4d3ec3e">txn_id_t</a> txn_id_;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <a class="code" href="namespacebustub.html#af44028a0a3ce771db1a77e858f3e07ca">AbortReason</a> abort_reason_;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="classbustub_1_1TransactionAbortException.html#a5671aadf68a10eb33e1fe11d21cb411e">  121</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classbustub_1_1TransactionAbortException.html#a5671aadf68a10eb33e1fe11d21cb411e">TransactionAbortException</a>(<a class="code" href="namespacebustub.html#a029cba72d716950c85acc42eb4d3ec3e">txn_id_t</a> txn_id, <a class="code" href="namespacebustub.html#af44028a0a3ce771db1a77e858f3e07ca">AbortReason</a> abort_reason)</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      : txn_id_(txn_id), abort_reason_(abort_reason) {}</div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="classbustub_1_1TransactionAbortException.html#aadbc3b0a7d7bdc046bad0cc144d28599">  123</a></span>&#160;  <a class="code" href="namespacebustub.html#a029cba72d716950c85acc42eb4d3ec3e">txn_id_t</a> <a class="code" href="classbustub_1_1TransactionAbortException.html#aadbc3b0a7d7bdc046bad0cc144d28599">GetTransactionId</a>() { <span class="keywordflow">return</span> txn_id_; }</div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="classbustub_1_1TransactionAbortException.html#a37429a11a3523863bd6e9b67754d5601">  124</a></span>&#160;  <a class="code" href="namespacebustub.html#af44028a0a3ce771db1a77e858f3e07ca">AbortReason</a> <a class="code" href="classbustub_1_1TransactionAbortException.html#a37429a11a3523863bd6e9b67754d5601">GetAbortReason</a>() { <span class="keywordflow">return</span> abort_reason_; }</div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="classbustub_1_1TransactionAbortException.html#a869dfc4731a98faf86c779ce4bb76b65">  125</a></span>&#160;  std::string <a class="code" href="classbustub_1_1TransactionAbortException.html#a869dfc4731a98faf86c779ce4bb76b65">GetInfo</a>() {</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordflow">switch</span> (abort_reason_) {</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacebustub.html#af44028a0a3ce771db1a77e858f3e07caa97eb89545356d08442dbf5fdd92b3d5a">AbortReason::LOCK_ON_SHRINKING</a>:</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Transaction &quot;</span> + std::to_string(txn_id_) +</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;               <span class="stringliteral">&quot; aborted because it can not take locks in the shrinking state\n&quot;</span>;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacebustub.html#af44028a0a3ce771db1a77e858f3e07caa83c1f3829c0646534509d50730097b68">AbortReason::UNLOCK_ON_SHRINKING</a>:</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Transaction &quot;</span> + std::to_string(txn_id_) +</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;               <span class="stringliteral">&quot; aborted because it can not excute unlock in the shrinking state\n&quot;</span>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacebustub.html#af44028a0a3ce771db1a77e858f3e07caa49847c93d1589c51e27451e384da1025">AbortReason::UPGRADE_CONFLICT</a>:</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Transaction &quot;</span> + std::to_string(txn_id_) +</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;               <span class="stringliteral">&quot; aborted because another transaction is already waiting to upgrade its lock\n&quot;</span>;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacebustub.html#af44028a0a3ce771db1a77e858f3e07caa8f35b656de87c54e18710fc94d73a614">AbortReason::DEADLOCK</a>:</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Transaction &quot;</span> + std::to_string(txn_id_) + <span class="stringliteral">&quot; aborted on deadlock\n&quot;</span>;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacebustub.html#af44028a0a3ce771db1a77e858f3e07caaccf87b15ab00dd3ea4718d693f18feb5">AbortReason::LOCKSHARED_ON_READ_UNCOMMITTED</a>:</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Transaction &quot;</span> + std::to_string(txn_id_) + <span class="stringliteral">&quot; aborted on lockshared on READ_UNCOMMITTED\n&quot;</span>;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="comment">// Todo: Should fail with unreachable.</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  }</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;};</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="classbustub_1_1Transaction.html">  149</a></span>&#160;<span class="keyword">class </span><a class="code" href="classbustub_1_1Transaction.html">Transaction</a> {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="classbustub_1_1Transaction.html#a28e9466588ff92f30f1699db79926d1f">  151</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classbustub_1_1Transaction.html#a28e9466588ff92f30f1699db79926d1f">Transaction</a>(<a class="code" href="namespacebustub.html#a029cba72d716950c85acc42eb4d3ec3e">txn_id_t</a> txn_id, <a class="code" href="namespacebustub.html#a57ce43470b186e0066e7f128390005b5">IsolationLevel</a> isolation_level = <a class="code" href="namespacebustub.html#a57ce43470b186e0066e7f128390005b5aa4b37efaa1a6b533614ed81660dbf912">IsolationLevel::REPEATABLE_READ</a>)</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      : state_(<a class="code" href="namespacebustub.html#ae58cece0a05d5cfc7ec83fc4a9161e20">TransactionState</a>::<a class="code" href="namespacebustub.html#ae58cece0a05d5cfc7ec83fc4a9161e20a53a5c6962088d681882494048d2f0817">GROWING</a>),</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        isolation_level_(isolation_level),</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        thread_id_(<a class="code" href="namespacestd.html">std</a>::this_thread::get_id()),</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        txn_id_(txn_id),</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        prev_lsn_(INVALID_LSN),</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        shared_lock_set_{<span class="keyword">new</span> std::unordered_set&lt;RID&gt;},</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        exclusive_lock_set_{<span class="keyword">new</span> std::unordered_set&lt;RID&gt;} {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="comment">// Initialize the sets that will be tracked.</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    table_write_set_ = std::make_shared&lt;std::deque&lt;TableWriteRecord&gt;&gt;();</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    index_write_set_ = std::make_shared&lt;std::deque&lt;IndexWriteRecord&gt;&gt;();</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    page_set_ = std::make_shared&lt;std::deque&lt;bustub::Page *&gt;&gt;();</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    deleted_page_set_ = std::make_shared&lt;std::unordered_set&lt;page_id_t&gt;&gt;();</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  }</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160; </div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <a class="code" href="classbustub_1_1Transaction.html#a2ab0d2d2b2af598c72444f877e589299">~Transaction</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <a class="code" href="classbustub_1_1Transaction.html#a4bdedef75c39b7574b50291c7524ca11">DISALLOW_COPY</a>(<a class="code" href="classbustub_1_1Transaction.html#a28e9466588ff92f30f1699db79926d1f">Transaction</a>);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="classbustub_1_1Transaction.html#a5a87c3574b1bcd54b6d16fcd83fcfcf1">  171</a></span>&#160;  <span class="keyword">inline</span> std::thread::id <a class="code" href="classbustub_1_1Transaction.html#a5a87c3574b1bcd54b6d16fcd83fcfcf1">GetThreadId</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> thread_id_; }</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="classbustub_1_1Transaction.html#ad30ce1a623728bb953ab64302c9980d0">  174</a></span>&#160;  <span class="keyword">inline</span> <a class="code" href="namespacebustub.html#a029cba72d716950c85acc42eb4d3ec3e">txn_id_t</a> <a class="code" href="classbustub_1_1Transaction.html#ad30ce1a623728bb953ab64302c9980d0">GetTransactionId</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> txn_id_; }</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="classbustub_1_1Transaction.html#a100094714e13f9ce019e867e2bb752e4">  177</a></span>&#160;  <span class="keyword">inline</span> <a class="code" href="namespacebustub.html#a57ce43470b186e0066e7f128390005b5">IsolationLevel</a> <a class="code" href="classbustub_1_1Transaction.html#a100094714e13f9ce019e867e2bb752e4">GetIsolationLevel</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> isolation_level_; }</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="classbustub_1_1Transaction.html#a1346ecc6a6aa2e724480a51a9512c4a6">  180</a></span>&#160;  <span class="keyword">inline</span> std::shared_ptr&lt;std::deque&lt;TableWriteRecord&gt;&gt; <a class="code" href="classbustub_1_1Transaction.html#a1346ecc6a6aa2e724480a51a9512c4a6">GetWriteSet</a>() { <span class="keywordflow">return</span> table_write_set_; }</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="classbustub_1_1Transaction.html#aaa3ea09a3d67c24588b3e76d76016d38">  183</a></span>&#160;  <span class="keyword">inline</span> std::shared_ptr&lt;std::deque&lt;IndexWriteRecord&gt;&gt; <a class="code" href="classbustub_1_1Transaction.html#aaa3ea09a3d67c24588b3e76d76016d38">GetIndexWriteSet</a>() { <span class="keywordflow">return</span> index_write_set_; }</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="classbustub_1_1Transaction.html#a7b262820b93376f683475b84cb3d171d">  186</a></span>&#160;  <span class="keyword">inline</span> std::shared_ptr&lt;std::deque&lt;Page *&gt;&gt; <a class="code" href="classbustub_1_1Transaction.html#a7b262820b93376f683475b84cb3d171d">GetPageSet</a>() { <span class="keywordflow">return</span> page_set_; }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00192"></a><span class="lineno"><a class="line" href="classbustub_1_1Transaction.html#a390e0bd71d4aabec9ac3ced5bfd5783a">  192</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classbustub_1_1Transaction.html#a390e0bd71d4aabec9ac3ced5bfd5783a">AppendTableWriteRecord</a>(<span class="keyword">const</span> <a class="code" href="classbustub_1_1TableWriteRecord.html">TableWriteRecord</a> &amp;write_record) {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    table_write_set_-&gt;push_back(write_record);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  }</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00200"></a><span class="lineno"><a class="line" href="classbustub_1_1Transaction.html#ad15ea926fe7d27e7b9b4ee32a6295662">  200</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classbustub_1_1Transaction.html#ad15ea926fe7d27e7b9b4ee32a6295662">AppendTableWriteRecord</a>(<span class="keyword">const</span> <a class="code" href="classbustub_1_1IndexWriteRecord.html">IndexWriteRecord</a> &amp;write_record) {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    index_write_set_-&gt;push_back(write_record);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="classbustub_1_1Transaction.html#a0abb42496c37ad0f17891adbd31044f0">  208</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classbustub_1_1Transaction.html#a0abb42496c37ad0f17891adbd31044f0">AddIntoPageSet</a>(<a class="code" href="classbustub_1_1Page.html">Page</a> *page) { page_set_-&gt;push_back(page); }</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="classbustub_1_1Transaction.html#a0651d7cb7b38ff348503d10bbbdc3e43">  211</a></span>&#160;  <span class="keyword">inline</span> std::shared_ptr&lt;std::unordered_set&lt;page_id_t&gt;&gt; <a class="code" href="classbustub_1_1Transaction.html#a0651d7cb7b38ff348503d10bbbdc3e43">GetDeletedPageSet</a>() { <span class="keywordflow">return</span> deleted_page_set_; }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="classbustub_1_1Transaction.html#a566882a46c5776a73b35163246d86137">  217</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classbustub_1_1Transaction.html#a566882a46c5776a73b35163246d86137">AddIntoDeletedPageSet</a>(<a class="code" href="namespacebustub.html#a8de4ac099b23d712481109bb846decde">page_id_t</a> page_id) { deleted_page_set_-&gt;insert(page_id); }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno"><a class="line" href="classbustub_1_1Transaction.html#a660fe95da17e2cb91adbd0093a56dcf6">  220</a></span>&#160;  <span class="keyword">inline</span> std::shared_ptr&lt;std::unordered_set&lt;RID&gt;&gt; <a class="code" href="classbustub_1_1Transaction.html#a660fe95da17e2cb91adbd0093a56dcf6">GetSharedLockSet</a>() { <span class="keywordflow">return</span> shared_lock_set_; }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno"><a class="line" href="classbustub_1_1Transaction.html#a96492ac49ef14a06a2fc213135fef848">  223</a></span>&#160;  <span class="keyword">inline</span> std::shared_ptr&lt;std::unordered_set&lt;RID&gt;&gt; <a class="code" href="classbustub_1_1Transaction.html#a96492ac49ef14a06a2fc213135fef848">GetExclusiveLockSet</a>() { <span class="keywordflow">return</span> exclusive_lock_set_; }</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160; </div>
<div class="line"><a name="l00226"></a><span class="lineno"><a class="line" href="classbustub_1_1Transaction.html#a17dc46d5400d52734f24f5ae8f9c184a">  226</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classbustub_1_1Transaction.html#a17dc46d5400d52734f24f5ae8f9c184a">IsSharedLocked</a>(<span class="keyword">const</span> <a class="code" href="classbustub_1_1RID.html">RID</a> &amp;rid) { <span class="keywordflow">return</span> shared_lock_set_-&gt;find(rid) != shared_lock_set_-&gt;end(); }</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="classbustub_1_1Transaction.html#a7362744c2c061f7f8732d5476ec971ad">  229</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classbustub_1_1Transaction.html#a7362744c2c061f7f8732d5476ec971ad">IsExclusiveLocked</a>(<span class="keyword">const</span> <a class="code" href="classbustub_1_1RID.html">RID</a> &amp;rid) { <span class="keywordflow">return</span> exclusive_lock_set_-&gt;find(rid) != exclusive_lock_set_-&gt;end(); }</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="classbustub_1_1Transaction.html#a3a63bf5fd5c24a33121fc0a5c434792e">  232</a></span>&#160;  <span class="keyword">inline</span> <a class="code" href="namespacebustub.html#ae58cece0a05d5cfc7ec83fc4a9161e20">TransactionState</a> <a class="code" href="classbustub_1_1Transaction.html#a3a63bf5fd5c24a33121fc0a5c434792e">GetState</a>() { <span class="keywordflow">return</span> state_; }</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="classbustub_1_1Transaction.html#acb83d7f742cc82273aca365eb07511f3">  238</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classbustub_1_1Transaction.html#acb83d7f742cc82273aca365eb07511f3">SetState</a>(<a class="code" href="namespacebustub.html#ae58cece0a05d5cfc7ec83fc4a9161e20">TransactionState</a> state) { state_ = state; }</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="classbustub_1_1Transaction.html#ab03797e599bc450b05bb39b942c7e7bc">  241</a></span>&#160;  <span class="keyword">inline</span> <a class="code" href="namespacebustub.html#a8ceb3d9746c8621a11887b2754e385f2">lsn_t</a> <a class="code" href="classbustub_1_1Transaction.html#ab03797e599bc450b05bb39b942c7e7bc">GetPrevLSN</a>() { <span class="keywordflow">return</span> prev_lsn_; }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno"><a class="line" href="classbustub_1_1Transaction.html#a3696b0bb3e56c39a90f2efeabf65cb69">  247</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classbustub_1_1Transaction.html#a3696b0bb3e56c39a90f2efeabf65cb69">SetPrevLSN</a>(<a class="code" href="namespacebustub.html#a8ceb3d9746c8621a11887b2754e385f2">lsn_t</a> prev_lsn) { prev_lsn_ = prev_lsn; }</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160; </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <a class="code" href="namespacebustub.html#ae58cece0a05d5cfc7ec83fc4a9161e20">TransactionState</a> state_;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <a class="code" href="namespacebustub.html#a57ce43470b186e0066e7f128390005b5">IsolationLevel</a> isolation_level_;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  std::thread::id thread_id_;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <a class="code" href="namespacebustub.html#a029cba72d716950c85acc42eb4d3ec3e">txn_id_t</a> txn_id_;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160; </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  std::shared_ptr&lt;std::deque&lt;TableWriteRecord&gt;&gt; table_write_set_;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  std::shared_ptr&lt;std::deque&lt;IndexWriteRecord&gt;&gt; index_write_set_;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <a class="code" href="namespacebustub.html#a8ceb3d9746c8621a11887b2754e385f2">lsn_t</a> prev_lsn_;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  std::shared_ptr&lt;std::deque&lt;Page *&gt;&gt; page_set_;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  std::shared_ptr&lt;std::unordered_set&lt;page_id_t&gt;&gt; deleted_page_set_;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  std::shared_ptr&lt;std::unordered_set&lt;RID&gt;&gt; shared_lock_set_;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  std::shared_ptr&lt;std::unordered_set&lt;RID&gt;&gt; exclusive_lock_set_;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;};</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;}  <span class="comment">// namespace bustub</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassbustub_1_1Transaction_html_a4bdedef75c39b7574b50291c7524ca11"><div class="ttname"><a href="classbustub_1_1Transaction.html#a4bdedef75c39b7574b50291c7524ca11">bustub::Transaction::DISALLOW_COPY</a></div><div class="ttdeci">DISALLOW_COPY(Transaction)</div></div>
<div class="ttc" id="aclassbustub_1_1Transaction_html_acb83d7f742cc82273aca365eb07511f3"><div class="ttname"><a href="classbustub_1_1Transaction.html#acb83d7f742cc82273aca365eb07511f3">bustub::Transaction::SetState</a></div><div class="ttdeci">void SetState(TransactionState state)</div><div class="ttdef"><b>Definition:</b> transaction.h:238</div></div>
<div class="ttc" id="anamespacebustub_html_af44028a0a3ce771db1a77e858f3e07ca"><div class="ttname"><a href="namespacebustub.html#af44028a0a3ce771db1a77e858f3e07ca">bustub::AbortReason</a></div><div class="ttdeci">AbortReason</div><div class="ttdef"><b>Definition:</b> transaction.h:105</div></div>
<div class="ttc" id="aclassbustub_1_1TransactionAbortException_html_aadbc3b0a7d7bdc046bad0cc144d28599"><div class="ttname"><a href="classbustub_1_1TransactionAbortException.html#aadbc3b0a7d7bdc046bad0cc144d28599">bustub::TransactionAbortException::GetTransactionId</a></div><div class="ttdeci">txn_id_t GetTransactionId()</div><div class="ttdef"><b>Definition:</b> transaction.h:123</div></div>
<div class="ttc" id="aclassbustub_1_1TableWriteRecord_html"><div class="ttname"><a href="classbustub_1_1TableWriteRecord.html">bustub::TableWriteRecord</a></div><div class="ttdef"><b>Definition:</b> transaction.h:64</div></div>
<div class="ttc" id="anamespacebustub_html_a8ceb3d9746c8621a11887b2754e385f2"><div class="ttname"><a href="namespacebustub.html#a8ceb3d9746c8621a11887b2754e385f2">bustub::lsn_t</a></div><div class="ttdeci">int32_t lsn_t</div><div class="ttdef"><b>Definition:</b> config.h:42</div></div>
<div class="ttc" id="aclassbustub_1_1IndexWriteRecord_html_a9eb2503a42aff09a40d5c63e41ecb98a"><div class="ttname"><a href="classbustub_1_1IndexWriteRecord.html#a9eb2503a42aff09a40d5c63e41ecb98a">bustub::IndexWriteRecord::tuple_</a></div><div class="ttdeci">Tuple tuple_</div><div class="ttdef"><b>Definition:</b> transaction.h:93</div></div>
<div class="ttc" id="aclassbustub_1_1Transaction_html_a17dc46d5400d52734f24f5ae8f9c184a"><div class="ttname"><a href="classbustub_1_1Transaction.html#a17dc46d5400d52734f24f5ae8f9c184a">bustub::Transaction::IsSharedLocked</a></div><div class="ttdeci">bool IsSharedLocked(const RID &amp;rid)</div><div class="ttdef"><b>Definition:</b> transaction.h:226</div></div>
<div class="ttc" id="anamespacebustub_html_a029cba72d716950c85acc42eb4d3ec3e"><div class="ttname"><a href="namespacebustub.html#a029cba72d716950c85acc42eb4d3ec3e">bustub::txn_id_t</a></div><div class="ttdeci">int32_t txn_id_t</div><div class="ttdef"><b>Definition:</b> config.h:41</div></div>
<div class="ttc" id="anamespacebustub_html_af44028a0a3ce771db1a77e858f3e07caa97eb89545356d08442dbf5fdd92b3d5a"><div class="ttname"><a href="namespacebustub.html#af44028a0a3ce771db1a77e858f3e07caa97eb89545356d08442dbf5fdd92b3d5a">bustub::AbortReason::LOCK_ON_SHRINKING</a></div><div class="ttdeci">@ LOCK_ON_SHRINKING</div></div>
<div class="ttc" id="anamespacebustub_html_a57ce43470b186e0066e7f128390005b5a7b5722b7d02a9d8ff3a8bdfcb7d278c3"><div class="ttname"><a href="namespacebustub.html#a57ce43470b186e0066e7f128390005b5a7b5722b7d02a9d8ff3a8bdfcb7d278c3">bustub::IsolationLevel::READ_UNCOMMITTED</a></div><div class="ttdeci">@ READ_UNCOMMITTED</div></div>
<div class="ttc" id="aclassbustub_1_1TableWriteRecord_html_aaa6a12f5f093ae20bdad829e987499a8"><div class="ttname"><a href="classbustub_1_1TableWriteRecord.html#aaa6a12f5f093ae20bdad829e987499a8">bustub::TableWriteRecord::tuple_</a></div><div class="ttdeci">Tuple tuple_</div><div class="ttdef"><b>Definition:</b> transaction.h:72</div></div>
<div class="ttc" id="aclassbustub_1_1Transaction_html_ad30ce1a623728bb953ab64302c9980d0"><div class="ttname"><a href="classbustub_1_1Transaction.html#ad30ce1a623728bb953ab64302c9980d0">bustub::Transaction::GetTransactionId</a></div><div class="ttdeci">txn_id_t GetTransactionId() const</div><div class="ttdef"><b>Definition:</b> transaction.h:174</div></div>
<div class="ttc" id="anamespacebustub_html_a57ce43470b186e0066e7f128390005b5aa4b37efaa1a6b533614ed81660dbf912"><div class="ttname"><a href="namespacebustub.html#a57ce43470b186e0066e7f128390005b5aa4b37efaa1a6b533614ed81660dbf912">bustub::IsolationLevel::REPEATABLE_READ</a></div><div class="ttdeci">@ REPEATABLE_READ</div></div>
<div class="ttc" id="aclassbustub_1_1IndexWriteRecord_html_a9f3924d4654e0fb9ed0831bda33b0c05"><div class="ttname"><a href="classbustub_1_1IndexWriteRecord.html#a9f3924d4654e0fb9ed0831bda33b0c05">bustub::IndexWriteRecord::IndexWriteRecord</a></div><div class="ttdeci">IndexWriteRecord(RID rid, table_oid_t table_oid, WType wtype, const Tuple &amp;tuple, index_oid_t index_oid, Catalog *catalog)</div><div class="ttdef"><b>Definition:</b> transaction.h:82</div></div>
<div class="ttc" id="aclassbustub_1_1TransactionAbortException_html_a869dfc4731a98faf86c779ce4bb76b65"><div class="ttname"><a href="classbustub_1_1TransactionAbortException.html#a869dfc4731a98faf86c779ce4bb76b65">bustub::TransactionAbortException::GetInfo</a></div><div class="ttdeci">std::string GetInfo()</div><div class="ttdef"><b>Definition:</b> transaction.h:125</div></div>
<div class="ttc" id="alogger_8h_html"><div class="ttname"><a href="logger_8h.html">logger.h</a></div></div>
<div class="ttc" id="aclassbustub_1_1Transaction_html_a566882a46c5776a73b35163246d86137"><div class="ttname"><a href="classbustub_1_1Transaction.html#a566882a46c5776a73b35163246d86137">bustub::Transaction::AddIntoDeletedPageSet</a></div><div class="ttdeci">void AddIntoDeletedPageSet(page_id_t page_id)</div><div class="ttdef"><b>Definition:</b> transaction.h:217</div></div>
<div class="ttc" id="aclassbustub_1_1Transaction_html_a5a87c3574b1bcd54b6d16fcd83fcfcf1"><div class="ttname"><a href="classbustub_1_1Transaction.html#a5a87c3574b1bcd54b6d16fcd83fcfcf1">bustub::Transaction::GetThreadId</a></div><div class="ttdeci">std::thread::id GetThreadId() const</div><div class="ttdef"><b>Definition:</b> transaction.h:171</div></div>
<div class="ttc" id="aclassbustub_1_1IndexWriteRecord_html_aae025bdf361ecddab79f369564194fbf"><div class="ttname"><a href="classbustub_1_1IndexWriteRecord.html#aae025bdf361ecddab79f369564194fbf">bustub::IndexWriteRecord::wtype_</a></div><div class="ttdeci">WType wtype_</div><div class="ttdef"><b>Definition:</b> transaction.h:91</div></div>
<div class="ttc" id="aclassbustub_1_1TableWriteRecord_html_a275477dc5e513f6c21b9be12f8ea34d3"><div class="ttname"><a href="classbustub_1_1TableWriteRecord.html#a275477dc5e513f6c21b9be12f8ea34d3">bustub::TableWriteRecord::wtype_</a></div><div class="ttdeci">WType wtype_</div><div class="ttdef"><b>Definition:</b> transaction.h:70</div></div>
<div class="ttc" id="anamespacebustub_html_a10572b38743f7663ec041295d3810caca32f68a60cef40faedbc6af20298c1a1e"><div class="ttname"><a href="namespacebustub.html#a10572b38743f7663ec041295d3810caca32f68a60cef40faedbc6af20298c1a1e">bustub::WType::DELETE</a></div><div class="ttdeci">@ DELETE</div></div>
<div class="ttc" id="aclassbustub_1_1TransactionAbortException_html_a37429a11a3523863bd6e9b67754d5601"><div class="ttname"><a href="classbustub_1_1TransactionAbortException.html#a37429a11a3523863bd6e9b67754d5601">bustub::TransactionAbortException::GetAbortReason</a></div><div class="ttdeci">AbortReason GetAbortReason()</div><div class="ttdef"><b>Definition:</b> transaction.h:124</div></div>
<div class="ttc" id="aclassbustub_1_1Transaction_html_a0651d7cb7b38ff348503d10bbbdc3e43"><div class="ttname"><a href="classbustub_1_1Transaction.html#a0651d7cb7b38ff348503d10bbbdc3e43">bustub::Transaction::GetDeletedPageSet</a></div><div class="ttdeci">std::shared_ptr&lt; std::unordered_set&lt; page_id_t &gt; &gt; GetDeletedPageSet()</div><div class="ttdef"><b>Definition:</b> transaction.h:211</div></div>
<div class="ttc" id="anamespacebustub_html_ae58cece0a05d5cfc7ec83fc4a9161e20a1c372d13f50af5ca9a935ebc78006e82"><div class="ttname"><a href="namespacebustub.html#ae58cece0a05d5cfc7ec83fc4a9161e20a1c372d13f50af5ca9a935ebc78006e82">bustub::TransactionState::COMMITTED</a></div><div class="ttdeci">@ COMMITTED</div></div>
<div class="ttc" id="anamespacebustub_html_ae58cece0a05d5cfc7ec83fc4a9161e20aff1f34de72566813b10e966b03977ac0"><div class="ttname"><a href="namespacebustub.html#ae58cece0a05d5cfc7ec83fc4a9161e20aff1f34de72566813b10e966b03977ac0">bustub::TransactionState::SHRINKING</a></div><div class="ttdeci">@ SHRINKING</div></div>
<div class="ttc" id="anamespacebustub_html_a57ce43470b186e0066e7f128390005b5"><div class="ttname"><a href="namespacebustub.html#a57ce43470b186e0066e7f128390005b5">bustub::IsolationLevel</a></div><div class="ttdeci">IsolationLevel</div><div class="ttdef"><b>Definition:</b> transaction.h:49</div></div>
<div class="ttc" id="aclassbustub_1_1TableHeap_html"><div class="ttname"><a href="classbustub_1_1TableHeap.html">bustub::TableHeap</a></div><div class="ttdef"><b>Definition:</b> table_heap.h:27</div></div>
<div class="ttc" id="aclassbustub_1_1Transaction_html_a28e9466588ff92f30f1699db79926d1f"><div class="ttname"><a href="classbustub_1_1Transaction.html#a28e9466588ff92f30f1699db79926d1f">bustub::Transaction::Transaction</a></div><div class="ttdeci">Transaction(txn_id_t txn_id, IsolationLevel isolation_level=IsolationLevel::REPEATABLE_READ)</div><div class="ttdef"><b>Definition:</b> transaction.h:151</div></div>
<div class="ttc" id="aclassbustub_1_1Transaction_html_a7b262820b93376f683475b84cb3d171d"><div class="ttname"><a href="classbustub_1_1Transaction.html#a7b262820b93376f683475b84cb3d171d">bustub::Transaction::GetPageSet</a></div><div class="ttdeci">std::shared_ptr&lt; std::deque&lt; Page * &gt; &gt; GetPageSet()</div><div class="ttdef"><b>Definition:</b> transaction.h:186</div></div>
<div class="ttc" id="aclassbustub_1_1IndexWriteRecord_html_a92c5f98805d0da96b12d7bad2586ff2d"><div class="ttname"><a href="classbustub_1_1IndexWriteRecord.html#a92c5f98805d0da96b12d7bad2586ff2d">bustub::IndexWriteRecord::index_oid_</a></div><div class="ttdeci">index_oid_t index_oid_</div><div class="ttdef"><b>Definition:</b> transaction.h:97</div></div>
<div class="ttc" id="aclassbustub_1_1Transaction_html_a2ab0d2d2b2af598c72444f877e589299"><div class="ttname"><a href="classbustub_1_1Transaction.html#a2ab0d2d2b2af598c72444f877e589299">bustub::Transaction::~Transaction</a></div><div class="ttdeci">~Transaction()=default</div></div>
<div class="ttc" id="aclassbustub_1_1TableWriteRecord_html_ab6791eadc71229acb4885e89978d51e8"><div class="ttname"><a href="classbustub_1_1TableWriteRecord.html#ab6791eadc71229acb4885e89978d51e8">bustub::TableWriteRecord::table_</a></div><div class="ttdeci">TableHeap * table_</div><div class="ttdef"><b>Definition:</b> transaction.h:74</div></div>
<div class="ttc" id="aclassbustub_1_1Transaction_html_a390e0bd71d4aabec9ac3ced5bfd5783a"><div class="ttname"><a href="classbustub_1_1Transaction.html#a390e0bd71d4aabec9ac3ced5bfd5783a">bustub::Transaction::AppendTableWriteRecord</a></div><div class="ttdeci">void AppendTableWriteRecord(const TableWriteRecord &amp;write_record)</div><div class="ttdef"><b>Definition:</b> transaction.h:192</div></div>
<div class="ttc" id="aclassbustub_1_1TableWriteRecord_html_abb4a593aeb39a82bd08929e3cbae1858"><div class="ttname"><a href="classbustub_1_1TableWriteRecord.html#abb4a593aeb39a82bd08929e3cbae1858">bustub::TableWriteRecord::rid_</a></div><div class="ttdeci">RID rid_</div><div class="ttdef"><b>Definition:</b> transaction.h:69</div></div>
<div class="ttc" id="anamespacebustub_html_af44028a0a3ce771db1a77e858f3e07caa83c1f3829c0646534509d50730097b68"><div class="ttname"><a href="namespacebustub.html#af44028a0a3ce771db1a77e858f3e07caa83c1f3829c0646534509d50730097b68">bustub::AbortReason::UNLOCK_ON_SHRINKING</a></div><div class="ttdeci">@ UNLOCK_ON_SHRINKING</div></div>
<div class="ttc" id="aclassbustub_1_1Transaction_html_aaa3ea09a3d67c24588b3e76d76016d38"><div class="ttname"><a href="classbustub_1_1Transaction.html#aaa3ea09a3d67c24588b3e76d76016d38">bustub::Transaction::GetIndexWriteSet</a></div><div class="ttdeci">std::shared_ptr&lt; std::deque&lt; IndexWriteRecord &gt; &gt; GetIndexWriteSet()</div><div class="ttdef"><b>Definition:</b> transaction.h:183</div></div>
<div class="ttc" id="aclassbustub_1_1Transaction_html_a96492ac49ef14a06a2fc213135fef848"><div class="ttname"><a href="classbustub_1_1Transaction.html#a96492ac49ef14a06a2fc213135fef848">bustub::Transaction::GetExclusiveLockSet</a></div><div class="ttdeci">std::shared_ptr&lt; std::unordered_set&lt; RID &gt; &gt; GetExclusiveLockSet()</div><div class="ttdef"><b>Definition:</b> transaction.h:223</div></div>
<div class="ttc" id="anamespacebustub_html_ae58cece0a05d5cfc7ec83fc4a9161e20"><div class="ttname"><a href="namespacebustub.html#ae58cece0a05d5cfc7ec83fc4a9161e20">bustub::TransactionState</a></div><div class="ttdeci">TransactionState</div><div class="ttdef"><b>Definition:</b> transaction.h:44</div></div>
<div class="ttc" id="anamespacebustub_html_a3571cdcf7aa43bd929669794e75cbc48"><div class="ttname"><a href="namespacebustub.html#a3571cdcf7aa43bd929669794e75cbc48">bustub::table_oid_t</a></div><div class="ttdeci">uint32_t table_oid_t</div><div class="ttdef"><b>Definition:</b> catalog.h:33</div></div>
<div class="ttc" id="anamespacebustub_html_a10572b38743f7663ec041295d3810caca15a8022d0ed9cd9c2a2e756822703eb4"><div class="ttname"><a href="namespacebustub.html#a10572b38743f7663ec041295d3810caca15a8022d0ed9cd9c2a2e756822703eb4">bustub::WType::UPDATE</a></div><div class="ttdeci">@ UPDATE</div></div>
<div class="ttc" id="aclassbustub_1_1Transaction_html_ad15ea926fe7d27e7b9b4ee32a6295662"><div class="ttname"><a href="classbustub_1_1Transaction.html#ad15ea926fe7d27e7b9b4ee32a6295662">bustub::Transaction::AppendTableWriteRecord</a></div><div class="ttdeci">void AppendTableWriteRecord(const IndexWriteRecord &amp;write_record)</div><div class="ttdef"><b>Definition:</b> transaction.h:200</div></div>
<div class="ttc" id="anamespacebustub_html_a10572b38743f7663ec041295d3810cac"><div class="ttname"><a href="namespacebustub.html#a10572b38743f7663ec041295d3810cac">bustub::WType</a></div><div class="ttdeci">WType</div><div class="ttdef"><b>Definition:</b> transaction.h:54</div></div>
<div class="ttc" id="anamespacebustub_html_af44028a0a3ce771db1a77e858f3e07caa49847c93d1589c51e27451e384da1025"><div class="ttname"><a href="namespacebustub.html#af44028a0a3ce771db1a77e858f3e07caa49847c93d1589c51e27451e384da1025">bustub::AbortReason::UPGRADE_CONFLICT</a></div><div class="ttdeci">@ UPGRADE_CONFLICT</div></div>
<div class="ttc" id="aclassbustub_1_1RID_html"><div class="ttname"><a href="classbustub_1_1RID.html">bustub::RID</a></div><div class="ttdef"><b>Definition:</b> rid.h:23</div></div>
<div class="ttc" id="aclassbustub_1_1Transaction_html_a7362744c2c061f7f8732d5476ec971ad"><div class="ttname"><a href="classbustub_1_1Transaction.html#a7362744c2c061f7f8732d5476ec971ad">bustub::Transaction::IsExclusiveLocked</a></div><div class="ttdeci">bool IsExclusiveLocked(const RID &amp;rid)</div><div class="ttdef"><b>Definition:</b> transaction.h:229</div></div>
<div class="ttc" id="anamespacebustub_html"><div class="ttname"><a href="namespacebustub.html">bustub</a></div><div class="ttdef"><b>Definition:</b> buffer_pool_manager_instance.cpp:18</div></div>
<div class="ttc" id="aclassbustub_1_1IndexWriteRecord_html_ae1f41b2ab547d9b1cd7146d934c4e73b"><div class="ttname"><a href="classbustub_1_1IndexWriteRecord.html#ae1f41b2ab547d9b1cd7146d934c4e73b">bustub::IndexWriteRecord::catalog_</a></div><div class="ttdeci">Catalog * catalog_</div><div class="ttdef"><b>Definition:</b> transaction.h:99</div></div>
<div class="ttc" id="aclassbustub_1_1IndexWriteRecord_html"><div class="ttname"><a href="classbustub_1_1IndexWriteRecord.html">bustub::IndexWriteRecord</a></div><div class="ttdef"><b>Definition:</b> transaction.h:80</div></div>
<div class="ttc" id="anamespacebustub_html_af44028a0a3ce771db1a77e858f3e07caa8f35b656de87c54e18710fc94d73a614"><div class="ttname"><a href="namespacebustub.html#af44028a0a3ce771db1a77e858f3e07caa8f35b656de87c54e18710fc94d73a614">bustub::AbortReason::DEADLOCK</a></div><div class="ttdeci">@ DEADLOCK</div></div>
<div class="ttc" id="aclassbustub_1_1Transaction_html_a3a63bf5fd5c24a33121fc0a5c434792e"><div class="ttname"><a href="classbustub_1_1Transaction.html#a3a63bf5fd5c24a33121fc0a5c434792e">bustub::Transaction::GetState</a></div><div class="ttdeci">TransactionState GetState()</div><div class="ttdef"><b>Definition:</b> transaction.h:232</div></div>
<div class="ttc" id="anamespacebustub_html_a5ca00ce350a2fa387503e74218ae76c0"><div class="ttname"><a href="namespacebustub.html#a5ca00ce350a2fa387503e74218ae76c0">bustub::index_oid_t</a></div><div class="ttdeci">uint32_t index_oid_t</div><div class="ttdef"><b>Definition:</b> catalog.h:35</div></div>
<div class="ttc" id="aclassbustub_1_1IndexWriteRecord_html_aaaef3fbbb54004a69c1c4fd4cb2f470b"><div class="ttname"><a href="classbustub_1_1IndexWriteRecord.html#aaaef3fbbb54004a69c1c4fd4cb2f470b">bustub::IndexWriteRecord::rid_</a></div><div class="ttdeci">RID rid_</div><div class="ttdef"><b>Definition:</b> transaction.h:87</div></div>
<div class="ttc" id="aclassbustub_1_1Page_html"><div class="ttname"><a href="classbustub_1_1Page.html">bustub::Page</a></div><div class="ttdef"><b>Definition:</b> page.h:28</div></div>
<div class="ttc" id="apage_8h_html"><div class="ttname"><a href="page_8h.html">page.h</a></div></div>
<div class="ttc" id="aclassbustub_1_1IndexWriteRecord_html_af2b02ad8fb3267377aea25eb4589cc23"><div class="ttname"><a href="classbustub_1_1IndexWriteRecord.html#af2b02ad8fb3267377aea25eb4589cc23">bustub::IndexWriteRecord::old_tuple_</a></div><div class="ttdeci">Tuple old_tuple_</div><div class="ttdef"><b>Definition:</b> transaction.h:95</div></div>
<div class="ttc" id="aclassbustub_1_1IndexWriteRecord_html_ae9787d08408966959fb6513f8070b6d2"><div class="ttname"><a href="classbustub_1_1IndexWriteRecord.html#ae9787d08408966959fb6513f8070b6d2">bustub::IndexWriteRecord::table_oid_</a></div><div class="ttdeci">table_oid_t table_oid_</div><div class="ttdef"><b>Definition:</b> transaction.h:89</div></div>
<div class="ttc" id="anamespacebustub_html_a10572b38743f7663ec041295d3810caca61ee777e7f71dc466c3b2c685d8d313b"><div class="ttname"><a href="namespacebustub.html#a10572b38743f7663ec041295d3810caca61ee777e7f71dc466c3b2c685d8d313b">bustub::WType::INSERT</a></div><div class="ttdeci">@ INSERT</div></div>
<div class="ttc" id="aclassbustub_1_1Transaction_html_a100094714e13f9ce019e867e2bb752e4"><div class="ttname"><a href="classbustub_1_1Transaction.html#a100094714e13f9ce019e867e2bb752e4">bustub::Transaction::GetIsolationLevel</a></div><div class="ttdeci">IsolationLevel GetIsolationLevel() const</div><div class="ttdef"><b>Definition:</b> transaction.h:177</div></div>
<div class="ttc" id="aclassbustub_1_1Transaction_html_a660fe95da17e2cb91adbd0093a56dcf6"><div class="ttname"><a href="classbustub_1_1Transaction.html#a660fe95da17e2cb91adbd0093a56dcf6">bustub::Transaction::GetSharedLockSet</a></div><div class="ttdeci">std::shared_ptr&lt; std::unordered_set&lt; RID &gt; &gt; GetSharedLockSet()</div><div class="ttdef"><b>Definition:</b> transaction.h:220</div></div>
<div class="ttc" id="anamespacebustub_html_a8de4ac099b23d712481109bb846decde"><div class="ttname"><a href="namespacebustub.html#a8de4ac099b23d712481109bb846decde">bustub::page_id_t</a></div><div class="ttdeci">int32_t page_id_t</div><div class="ttdef"><b>Definition:</b> config.h:40</div></div>
<div class="ttc" id="aclassbustub_1_1TableWriteRecord_html_ad2c5585e7b92be33c3c5cc146ab69a75"><div class="ttname"><a href="classbustub_1_1TableWriteRecord.html#ad2c5585e7b92be33c3c5cc146ab69a75">bustub::TableWriteRecord::TableWriteRecord</a></div><div class="ttdeci">TableWriteRecord(RID rid, WType wtype, const Tuple &amp;tuple, TableHeap *table)</div><div class="ttdef"><b>Definition:</b> transaction.h:66</div></div>
<div class="ttc" id="aclassbustub_1_1Transaction_html_a0abb42496c37ad0f17891adbd31044f0"><div class="ttname"><a href="classbustub_1_1Transaction.html#a0abb42496c37ad0f17891adbd31044f0">bustub::Transaction::AddIntoPageSet</a></div><div class="ttdeci">void AddIntoPageSet(Page *page)</div><div class="ttdef"><b>Definition:</b> transaction.h:208</div></div>
<div class="ttc" id="anamespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdef"><b>Definition:</b> gtest-internal.h:1323</div></div>
<div class="ttc" id="anamespacebustub_html_af44028a0a3ce771db1a77e858f3e07caaccf87b15ab00dd3ea4718d693f18feb5"><div class="ttname"><a href="namespacebustub.html#af44028a0a3ce771db1a77e858f3e07caaccf87b15ab00dd3ea4718d693f18feb5">bustub::AbortReason::LOCKSHARED_ON_READ_UNCOMMITTED</a></div><div class="ttdeci">@ LOCKSHARED_ON_READ_UNCOMMITTED</div></div>
<div class="ttc" id="aclassbustub_1_1Transaction_html_ab03797e599bc450b05bb39b942c7e7bc"><div class="ttname"><a href="classbustub_1_1Transaction.html#ab03797e599bc450b05bb39b942c7e7bc">bustub::Transaction::GetPrevLSN</a></div><div class="ttdeci">lsn_t GetPrevLSN()</div><div class="ttdef"><b>Definition:</b> transaction.h:241</div></div>
<div class="ttc" id="anamespacebustub_html_ae58cece0a05d5cfc7ec83fc4a9161e20a53a5c6962088d681882494048d2f0817"><div class="ttname"><a href="namespacebustub.html#ae58cece0a05d5cfc7ec83fc4a9161e20a53a5c6962088d681882494048d2f0817">bustub::TransactionState::GROWING</a></div><div class="ttdeci">@ GROWING</div></div>
<div class="ttc" id="aclassbustub_1_1Transaction_html_a3696b0bb3e56c39a90f2efeabf65cb69"><div class="ttname"><a href="classbustub_1_1Transaction.html#a3696b0bb3e56c39a90f2efeabf65cb69">bustub::Transaction::SetPrevLSN</a></div><div class="ttdeci">void SetPrevLSN(lsn_t prev_lsn)</div><div class="ttdef"><b>Definition:</b> transaction.h:247</div></div>
<div class="ttc" id="anamespacebustub_html_a57ce43470b186e0066e7f128390005b5a1671fb17b5ce9bd0af0cf47f3f4ea337"><div class="ttname"><a href="namespacebustub.html#a57ce43470b186e0066e7f128390005b5a1671fb17b5ce9bd0af0cf47f3f4ea337">bustub::IsolationLevel::READ_COMMITTED</a></div><div class="ttdeci">@ READ_COMMITTED</div></div>
<div class="ttc" id="aclassbustub_1_1Catalog_html"><div class="ttname"><a href="classbustub_1_1Catalog.html">bustub::Catalog</a></div><div class="ttdef"><b>Definition:</b> catalog.h:100</div></div>
<div class="ttc" id="aconfig_8h_html"><div class="ttname"><a href="config_8h.html">config.h</a></div></div>
<div class="ttc" id="aclassbustub_1_1TransactionAbortException_html"><div class="ttname"><a href="classbustub_1_1TransactionAbortException.html">bustub::TransactionAbortException</a></div><div class="ttdef"><b>Definition:</b> transaction.h:116</div></div>
<div class="ttc" id="anamespacebustub_html_ae58cece0a05d5cfc7ec83fc4a9161e20a4e6c860e5da10e31c5fd9cb76ddc2025"><div class="ttname"><a href="namespacebustub.html#ae58cece0a05d5cfc7ec83fc4a9161e20a4e6c860e5da10e31c5fd9cb76ddc2025">bustub::TransactionState::ABORTED</a></div><div class="ttdeci">@ ABORTED</div></div>
<div class="ttc" id="aclassbustub_1_1Tuple_html"><div class="ttname"><a href="classbustub_1_1Tuple.html">bustub::Tuple</a></div><div class="ttdef"><b>Definition:</b> tuple.h:30</div></div>
<div class="ttc" id="aclassbustub_1_1Transaction_html_a1346ecc6a6aa2e724480a51a9512c4a6"><div class="ttname"><a href="classbustub_1_1Transaction.html#a1346ecc6a6aa2e724480a51a9512c4a6">bustub::Transaction::GetWriteSet</a></div><div class="ttdeci">std::shared_ptr&lt; std::deque&lt; TableWriteRecord &gt; &gt; GetWriteSet()</div><div class="ttdef"><b>Definition:</b> transaction.h:180</div></div>
<div class="ttc" id="aclassbustub_1_1Transaction_html"><div class="ttname"><a href="classbustub_1_1Transaction.html">bustub::Transaction</a></div><div class="ttdef"><b>Definition:</b> transaction.h:149</div></div>
<div class="ttc" id="atuple_8h_html"><div class="ttname"><a href="tuple_8h.html">tuple.h</a></div></div>
<div class="ttc" id="aclassbustub_1_1TransactionAbortException_html_a5671aadf68a10eb33e1fe11d21cb411e"><div class="ttname"><a href="classbustub_1_1TransactionAbortException.html#a5671aadf68a10eb33e1fe11d21cb411e">bustub::TransactionAbortException::TransactionAbortException</a></div><div class="ttdeci">TransactionAbortException(txn_id_t txn_id, AbortReason abort_reason)</div><div class="ttdef"><b>Definition:</b> transaction.h:121</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
